<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="src/css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" defer="defer"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" defer="defer"></script>
    <title>Dashboard</title>
</head>
<body class="bg-light text-dark">
    <nav id="main-nav" class="navbar navbar-expand-md navbar-light fixed-top bg-light">
        <div class="container">
            <a href="https://www.erasmushogeschool.be/nl" class="navbar-brand">
                <img class="text-danger" src="#" id="logo" alt="Logo" style="height: 50px;">
            </a>
            <div class="ml-auto">
                <div class="dropdown">
                    <button class="btn btn-link text-decoration-none text-danger" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Dashboard
                    </button>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                        <a class="dropdown-item" href="FAQ.html">FAQ</a>
                        <a class="dropdown-item" href="#">Logout</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <section class="dashboard-section py-5 mt-5">
        <div class="container">
            <div class="row justify-content-center mt-5">
                <div class="col-lg-4 text-center mb-4">
                    <div class="profile-photo mt-5" id="dashboardProfilePhoto">
                        <span class="text-dark">Profile photo</span>
                    </div>
                    <div class="mt-5">
                        <p class="font-weight-light" id="dashboardName">Display name</p>
                        <hr>
                        <p class="font-weight-light" id="dashboardFieldOfStudy">Field of study</p>
                        <hr>
                        <button class="btn btn-danger customize-button" data-toggle="modal" data-target="#customizeModal">Customize</button>
                    </div>
                </div>
                <div class="col-lg-8 pl-5 mt-5">
                    <div class="text-center">
                        <h5 class="font-weight-lighter text-info mb-3" style="font-size: 30px;">Recent activities</h5>
                        <div class="block" style="background-color: #d9534f;"></div>
                    </div>
                    <div class="activity-links mt-5">
                        <a href="#" class="bg-white text-primary border text-decoration-none">a link</a>
                        <a href="#" class="bg-white text-primary border text-decoration-none">a link</a>
                        <a href="#" class="bg-white text-primary border text-decoration-none">a link</a>
                        <a href="#" class="bg-white text-primary border text-decoration-none">a link</a>
                        <a href="#" class="bg-white text-primary border text-decoration-none">a link</a>
                        <a href="#" class="bg-white text-primary border text-decoration-none">a link</a>
                        <a href="#" class="bg-white text-primary border text-decoration-none">a link</a>
                    </div>
                </div>
            </div>
            <div class="row text-center mt-4">
                <div class="col-md-3 col-6 action-buttons">
                    <button class="btn btn-info">Recent posts</button>
                </div>
                <div class="col-md-3 col-6 action-buttons">
                    <button class="btn btn-info">Another button</button>
                </div>
                <div class="col-md-3 col-6 action-buttons">
                    <button class="btn btn-info">Another button</button>
                </div>
                <div class="col-md-3 col-6 action-buttons">
                    <button class="btn btn-info">Main page</button>
                </div>
            </div>
        </div>
    </section>

    <div class="modal fade" id="customizeModal" tabindex="-1" aria-labelledby="customizeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="customizeModalLabel">Edit Profile</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <section class="profile-section mt-5">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-12">
                                    <div class="card shadow-sm">
                                        <div class="card-header bg-white text-center">
                                            <input type="file" id="profileImageInput" style="display: none;">
                                            <img src="https://via.placeholder.com/150" alt="Profile Picture" id="profileImage" class="rounded-circle mb-3" onclick="document.getElementById('profileImageInput').click();">
                                            <h2 class="font-weight-light" id="editName">Unknown</h2>
                                            <p class="text-muted" id="editEmail">Unknown@example.com</p>
                                            <p class="text-muted" id="editEducation">*Year* of *education*, specializing in *specialization*</p>
                                            <a href="#" class="btn btn-outline-primary btn-sm" onclick="toggleEditProfile()">Edit Profile</a>
                                        </div>
                                        <div class="card-body">
                                            <form id="profileForm" class="d-none">
                                                <div class="form-group">
                                                    <label for="profileName" class="font-weight-light">Name</label>
                                                    <input type="text" class="form-control font-weight-lighter" id="profileName" placeholder="Enter your name">
                                                </div>
                                                <div class="form-group">
                                                    <label for="profileEmail" class="font-weight-light">Email</label>
                                                    <input type="email" class="form-control font-weight-lighter" id="profileEmail" placeholder="Enter your email">
                                                </div>
                                                <div class="form-group">
                                                    <label for="profilePassword" class="font-weight-light">Password</label>
                                                    <input type="password" class="form-control font-weight-lighter" id="profilePassword" placeholder="Enter new password">
                                                </div>
                                                <div class="form-group">
                                                    <label for="educationLevel" class="font-weight-light">Education Level</label>
                                                    <select class="form-control font-weight-lighter" id="educationLevel">
                                                        <option>Select Education Level</option>
                                                        <option value="Graduaat">Graduaat</option>
                                                        <option value="Bachelor">Bachelor</option>
                                                        <option value="Lerarenopleiding">Lerarenopleiding</option>
                                                        <option value="Kunstopleiding">Kunstopleiding</option>
                                                        <option value="Postgraduaat">Postgraduaat</option>
                                                        <option value="Bachelor-na-bachelor">Bachelor-na-bachelor</option>
                                                    </select>
                                                </div>
                                                <div class="form-group" id="specializationGroup" style="display: none;">
                                                    <label for="specialization" class="font-weight-light">Specialization</label>
                                                    <select class="form-control font-weight-lighter" id="specialization"></select>
                                                </div>
                                                <div class="form-group" id="yearGroup" style="display: none;">
                                                    <label for="year" class="font-weight-light">Year</label>
                                                    <select class="form-control font-weight-lighter" id="year">
                                                        <option value="1st">First year</option>
                                                        <option value="2nd">Second year</option>
                                                        <option value="3rd">Third year</option>
                                                        <option value="4th">Fourth year</option>
                                                    </select>
                                                </div>
                                                <div class="text-center pt-3 pb-2">
                                                    <button type="submit" class="btn btn-primary">Save Changes</button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const educationLevel = document.getElementById('educationLevel');
            const specializationGroup = document.getElementById('specializationGroup');
            const specialization = document.getElementById('specialization');
            const yearGroup = document.getElementById('yearGroup');

            const specializations = {
                Graduaat: [
                    "Accounting Administration",
                    "Accounting Administration (E-learning)",
                    "Basisverpleegkunde",
                    "Educatief Graduaat Secundair Onderwijs",
                    "Elektromechanische Systemen",
                    "Informatiebeheer",
                    "Internet of Things",
                    "Juridisch-Administratieve Ondersteuning (werktraject)",
                    "Juridisch-Administratieve Ondersteuning",
                    "Logies-, Restaurant- & Cateringmanagement",
                    "Marketing- & Communicatiesupport",
                    "Programmeren",
                    "Sociaal-Cultureel Werk",
                    "Systeem- & Netwerkbeheer",
                    "Winkelmanagement"
                ],
                Bachelor: [
                    "Biomedische Laboratoriumtechnologie",
                    "Communicatie",
                    "Hotelmanagement",
                    "Idea and Innovation Management",
                    "Journalistiek",
                    "Kleuteronderwijs",
                    "Lager Onderwijs",
                    "Landschaps- & Tuinarchitectuur",
                    "Multimedia & Creatieve Technologie",
                    "Organisatie & Management",
                    "Pedagogie van het Jonge Kind",
                    "Secundair Onderwijs",
                    "Sociaal Werk",
                    "Toegepaste Informatica",
                    "Toerisme- & Recreatiemanagement",
                    "Verkorte Educatieve Bachelor Lager Onderwijs",
                    "Verkorte Educatieve Bachelor Secundair Onderwijs",
                    "Verpleegkunde",
                    "Voedings- & Dieetkunde",
                    "Vroedkunde"
                ],
                Lerarenopleiding: [
                    "Educatief Graduaat Secundair Onderwijs",
                    "Kleuteronderwijs",
                    "Lager Onderwijs",
                    "Secundair Onderwijs",
                    "Verkorte Educatieve Bachelor Lager Onderwijs",
                    "Verkorte Educatieve Bachelor Secundair Onderwijs"
                ],
                Kunstopleiding: [
                    "Academische Bachelor/Master Audiovisuele Kunsten",
                    "Academische Bachelor/Master Drama",
                    "Academische Bachelor/Master Muziek",
                    "Educatieve Opleidingen in de Kunsten",
                    "Podium- en Eventtechnieken",
                    "Professionele Bachelor Audiovisuele Kunsten",
                    "Professionele Bachelor/Master Musical"
                ],
                Postgraduaat: [
                    "Applied Artificial Intelligence ('24-'25)",
                    "Applied Bio-Informatics in Research & Diagnostics",
                    "Bedrijfsverpleegkunde",
                    "Coding (Online)",
                    "Cosmetic Sciences",
                    "Diabeteseducator",
                    "Fiscaliteit ('24-'25)",
                    "Forensisch Hulpverlenend Expert",
                    "Forensisch Onderzoek - Volzet",
                    "Forensisch Verpleegkundig Expert",
                    "Health Coach",
                    "Informatiemanagement ('24-'25)",
                    "Musical",
                    "Muziek",
                    "Niet-Confessionele Zedenleer",
                    "Palliatieve Zorg",
                    "Pediatrie & Neonatologie",
                    "Peri-Operatieve Zorgen",
                    "Procesbegeleider Ethiek in Zorg en Welzijn",
                    "Technologisch Verpleegkundige",
                    "Toegepaste Artificiële Intelligentie"
                ],
                "Bachelor-na-bachelor": ["Zorgmanagement"]
            };

            educationLevel.addEventListener('change', function () {
                const selectedLevel = educationLevel.value;

                if (selectedLevel === "Select") {
                    specializationGroup.style.display = "none";
                    yearGroup.style.display = "none";
                } else {
                    specializationGroup.style.display = "block";
                    yearGroup.style.display = "block";

                    specialization.innerHTML = "";

                    specializations[selectedLevel].forEach(function (spec) {
                        const option = document.createElement('option');
                        option.value = spec;
                        option.textContent = spec;
                        specialization.appendChild(option);
                    });
                }
            });

            const profileForm = document.getElementById('profileForm');
            profileForm.addEventListener('submit', function (e) {
                e.preventDefault();
                const name = document.getElementById('profileName').value;
                const email = document.getElementById('profileEmail').value;
                const educationLevelText = educationLevel.options[educationLevel.selectedIndex].text;
                const specializationText = specialization.options[specialization.selectedIndex].text;
                const yearText = document.getElementById('year').options[document.getElementById('year').selectedIndex].text;

                document.getElementById('editName').textContent = name;
                document.getElementById('editEmail').textContent = email;
                document.getElementById('editEducation').textContent = `${yearText} of ${educationLevelText}, specializing in ${specializationText}`;

                document.getElementById('dashboardName').textContent = name;
                document.getElementById('dashboardFieldOfStudy').textContent = `${yearText} of ${educationLevelText}, specializing in ${specializationText}`;
                
                const profileImageSrc = document.getElementById('profileImage').src;
                document.getElementById('dashboardProfilePhoto').innerHTML = `<img src="${profileImageSrc}" class="rounded-circle" style="width: 100%; height: 100%;">`;

                $('#customizeModal').modal('hide');
            });

            const profileImageInput = document.getElementById('profileImageInput');
            profileImageInput.addEventListener('change', function () {
                const file = profileImageInput.files[0];
                const reader = new FileReader();
                reader.onload = function (e) {
                    document.getElementById('profileImage').src = e.target.result;
                };
                reader.readAsDataURL(file);
            });
        });

        function toggleEditProfile() {
            document.getElementById('profileForm').classList.toggle('d-none');
        }
    </script>
</body>
</html>
